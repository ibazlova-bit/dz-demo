Эссе
Трагедия как учитель: принципы тестирования, способные предотвратить катастрофы Therac-25 и Boeing 737 MAX
Тестирование программного обеспечения — это не роскошь и не формальность, а фундаментальная инженерная дисциплина, стоящая на страже человеческих жизней и благополучия. Печально известные инциденты с аппаратом лучевой терапии Therac-25 в 1980-х годах и самолетами Boeing 737 MAX в 2018-2019 годах служат мрачным напоминанием о цене, которую приходится платить за пренебрежение этой дисциплиной. Несмотря на разницу в эпохах и технологиях, корень их проблем общий: фатальные недостатки в философии и процессе тестирования. Анализ этих катастроф позволяет вывести ключевые принципы, которые должны быть нерушимыми в разработке safety-critical систем.

Принцип 1: Независимость и сквозная валидация
Одной из главных причин трагедии Therac-25 стала практика тотального регрессионного тестирования. Аппарат был программной модификацией предыдущих моделей (Therac-6 и Therac-20), и инженеры ошибочно полагались на тесты, унаследованные от более старых, аппаратно-защищенных версий. Они проверяли, не сломали ли они старое, но не искали принципиально новые ошибки, присущие именно новой архитектуре.
Как предотвратить: Внедрение принципа независимого тестирования. Тестировщики не должны подчиняться руководителям разработки и обязаны иметь мандат на проверку системы в целом, а не отдельных её частей. Для 737 MAX это означало бы, что команда, тестирующая систему MCAS (Maneuvering Characteristics Augmentation System), должна была быть структурно и финансово независима от команды разработки и обязана была провести сквозную валидацию в условиях, максимально приближенных к реальным, включая сценарии отказа датчиков и действия пилотов.

Принцип 2: Исчерпывающее тестирование в пограничных условиях и при отказах
Оба случая демонстрируют катастрофическую реакцию системы на отказ одного датчика. Therac-25 содержал race condition — ошибку синхронизации, которая проявлялась только при очень быстром ручном вводе данных оператором. Boeing 737 MAX полагался на единственный датчик угла атаки (AoA), отказ которого заставлял систему MCAS непрерывно пикировать, срабатывая снова и снова.
Как предотвратить: Жесткое следование принципу тестирования на основе рисков с акцентом на отказы. Тест-кейсы должны целенаправленно моделировать:
•	Отказы любого и всех датчиков.
•	Нештатные последовательности действий оператора (как в Therac-25).
•	Корректность и понятность сообщений об ошибках. Пилоты 737 MAX не понимали, что происходит, потому что система не сообщала об отказе датчика и активации MCAS достаточно явно.
Принцип 3: Прозрачность, документация и человеческий фактор

Boeing критиковали за сокрытие информации о MCAS от пилотов и авиаперевозчиков. Система была представлена как незначительное дополнение, не требующее дополнительных тренировок. Это привело к тому что пилоты, столкнувшись с нештатной ситуацией, не имели ментальной модели для её решения.
Как предотвратить: Принцип прозрачности и полной документации. Тестирование должно включать не только код, но и документацию для пользователя. Тест-кейсом должен быть вопрос: «Поймет ли оператор (врач, пилот) по документации и сообщениям системы, что происходит и как это исправить?». Тестирование пользовательских интерфейсов и процедур экстренного реагирования столь же важно, как и тестирование кода.

Принцип 4: Анализ безопасности и отказоустойчивость (Fail-Safe)
Обе системы не были отказоустойчивыми. Therac-25 не имел аппаратных дублирующих защит, которые были в предыдущих моделях. MCAS активировался по показаниям одного датчика, не сверяя его данные с другим.
Как предотвратить: Проведение формального анализа видов и последствий отказов (FMEA). Этот процесс заставляет инженеров системно задавать вопросы: «Что произойдет, если этот компонент откажет? Как система должна на это отреагировать?». Это привело бы к архитектурным решениям, требующим обязательного согласования показаний двух датчиков для активации MCAS и наличию hardware-блокировок в Therac-25, что сделало бы программную ошибку безвредной.

Принцип 5: Культурный приоритет безопасности над сроками и бюджетом
В основе обеих трагедий лежало не только техническое, но и организационное неустройство. Давление рынка: удержание лидерства на рынке пассажирских авиаперевозок для Boeing и, вероятно, коммерческая выгода от использования старой лицензии для Therac-25 — создало среду, где тестирование и безопасность воспринимались как препятствие, а не как цель.
Как предотвратить: Создание культуры, где любой сотрудник может остановить процесс из-за concerns безопасности без страха перед последствиями. Тестирование не должно быть финальным этапом, который можно сократить под давлением дедлайна. Оно должно быть интегрировано в каждый этап жизненного цикла разработки (методологии типа DevOps с акцентом на безопасность).

Заключение
Трагедии Therac-25 и Boeing 737 MAX не были вызваны неуловимыми ошибками. Это были следствия предсказуемых и предотвратимых провалов в процессе обеспечения качества. Принципы, которые могли их остановить — независимое тестирование, параноидальный focus на отказах, прозрачность, отказоустойчивая архитектура и культура, ставящая безопасность во главу угла, — хорошо известны. Эти случаи должны служить вечным напоминанием: в мире, где программное обеспечение управляет жизненно важными системами, ответственность инженера простирается далеко за пределы написания работающего кода. Она заключается в том, чтобы гарантировать, что система не навредит человеку даже тогда, когда всё пойдет не так.

Чек-лист: 
Проверка формы регистрации пользователя 
1.	Отображение и доступность формы 
[ ] Форма регистрации отображается корректно на разных устройствах (ПК, планшет, телефон).
[ ] Все поля и кнопки видимы и доступны для ввода. 
[ ] Подписи к полям отображаются правильно и не обрезаны. 
[ ] Есть кнопка «Регистрация»/«Зарегистрироваться». 
2.	Поля формы Поле «Имя пользователя / Логин» 
[ ] Можно ввести текст. 
[ ] Ограничения по длине (например, не менее 3 и не более 20 символов).
[ ] Поддержка только допустимых символов (буквы, цифры, подчёркивание). 
[ ] Ошибка при вводе недопустимых символов. Поле «Email» 
[ ] Принимает корректные email-адреса. 
[ ] Выдаёт ошибку при некорректном формате (без @, без домена). 
[ ] Ошибка при вводе уже зарегистрированного email. Поле «Пароль» 
[ ] Можно ввести текст. 
[ ] Проверка минимальной длины (например, не менее 8 символов). 
[ ] Проверка сложности (буквы в разных регистрах, цифры, спецсимволы — если требуется). 
[ ] Есть опция «Показать/Скрыть пароль». Поле «Подтверждение пароля» 
[ ] Поле присутствует. 
[ ] Ошибка при несовпадении с основным паролем. 
3.	Кнопка «Регистрация» 
[ ] Активна только при заполнении всех обязательных полей. 
[ ] Нажатие с некорректными данными показывает ошибки. 
[ ] Успешная регистрация приводит к переходу (например, в личный кабинет). 
4.	Валидация и ошибки 
[ ] Ошибки отображаются рядом с соответствующими полями.
[ ] Ошибки понятные и пользовательские (а не системные). 
[ ] Ошибки исчезают после исправления данных.
5.	Дополнительно
[ ] Проверка капчи (если есть).
[ ] Согласие с условиями/политикой (чекбокс). 
[ ] Проверка, что данные сохраняются в БД. 
[ ] Проверка email-подтверждения (если требуется).
